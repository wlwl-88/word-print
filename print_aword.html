<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>단어장 프린트 템플릿</title>
  <style>
    body { font-family: 'Noto Sans KR', 'Apple SD Gothic Neo', Arial, sans-serif; background: #fff; margin: 0; padding: 32px 0;}
    .container { width: 100%; max-width: 440px; margin: auto; }
    .mode-btns { margin: 20px 0 18px 0; text-align: left;}
    button { margin-right: 7px; padding: 6px 15px; border: 1px solid #ccc; border-radius: 8px; background: #f6f6f6; cursor: pointer; font-size: 1em; }
    button.selected { background: #355efc; color: #fff; border: 1.5px solid #355efc;}
    #input-area { width:100%; margin:18px 0 28px 0; text-align: left; }
    #words-input { width:97%; max-width:420px; height:60px; font-size:1em; margin-bottom:10px; border-radius:6px; border:1px solid #eee;}
    table { border-collapse: collapse; width: 100%; background: #fff;}
    th, td { border: 1px solid #ededed; padding: 14px 10px; font-size: 1.13em; text-align: left; font-weight: 400;}
    th { background: #fafbfc; font-weight: 600; color: #888; border-bottom: 2px solid #e0e0e0;}
    tr:last-child td { border-bottom: 1.5px solid #eee;}
    .hide { display:none; }
    @media print { body { background: #fff; } #input-area, .mode-btns, #btn-save { display: none; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="mode-btns">
      <button class="selected" id="btn-both">영어+뜻</button>
      <button id="btn-en">영어만</button>
      <button id="btn-ko">뜻만</button>
      <button id="btn-save">이미지로 저장</button>
      <button onclick="window.print()">프린트</button>
    </div>
    <div id="input-area">
      <textarea id="words-input" placeholder="아래 예시처럼 입력하세요:&#10;apple : 사과&#10;benefit : 이익, 혜택&#10;compare : 비교하다"></textarea><br>
      <button id="btn-make">표로 변환</button>
      <div style="font-size:0.93em; color:#aaa; margin-top:8px;">※ 한 줄에 '영어 : 뜻' 형태로 입력, 최대 20개만 표시</div>
    </div>
    <div id="table-area"></div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    let words = [];
    function renderTable(mode='both') {
      const tableArea = document.getElementById('table-area');
      let html = '<table><thead>';
      if(mode==='both') html += '<tr><th>단어</th><th>뜻</th></tr>';
      else html += '<tr><th>' + (mode==='en'?'단어':'뜻') + '</th></tr>';
      html += '</thead><tbody>';
      for(let i=0;i<20;i++){
        const item = words[i] || {};
        if(mode==='both'){
          html += `<tr><td>${item.en||''}</td><td>${item.ko||''}</td></tr>`;
        }else if(mode==='en'){
          html += `<tr><td>${item.en||''}</td></tr>`;
        }else if(mode==='ko'){
          html += `<tr><td>${item.ko||''}</td></tr>`;
        }
      }
      html += '</tbody></table>';
      tableArea.innerHTML = html;
    }
    function setMode(mode){
      renderTable(mode);
      document.getElementById('btn-both').classList.toggle('selected', mode==='both');
      document.getElementById('btn-en').classList.toggle('selected', mode==='en');
      document.getElementById('btn-ko').classList.toggle('selected', mode==='ko');
      window.__currentMode = mode;
    }
    document.getElementById('btn-both').onclick = ()=>setMode('both');
    document.getElementById('btn-en').onclick = ()=>setMode('en');
    document.getElementById('btn-ko').onclick = ()=>setMode('ko');
    document.getElementById('btn-make').onclick = function() {
      const text = document.getElementById('words-input').value;
      const arr = text.split('\n').slice(0,20).map(row=>{
        const sp = row.split(':');
        return {
          en: (sp[0]||'').trim(),
          ko: (sp[1]||'').trim()
        }
      });
      words = arr;
      setMode('both');
    };
    document.getElementById('btn-save').onclick = function() {
      html2canvas(document.getElementById('table-area')).then(canvas => {
        const link = document.createElement('a');
        link.download = 'wordlist.png';
        link.href = canvas.toDataURL();
        link.click();
      });
    };
    setMode('both');
  </script>
</body>
</html>
